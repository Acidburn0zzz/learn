#!/usr/bin/env bash
#chilicuil <chilicuil@gmail.com> 2010
#a simple dmenu session script 

DMENU='dmenu -p ">" -i -nb #000000 -nf #999999 -sb #999999 -sf #000000'
choice=$(echo -e "logout\nrestart\nshutdown\nreboot\nsuspend\nhibernate\nlock" | $DMENU)

case "$choice" in
    logout) i3-msg exit &
        ;;
    restart) i3-msg restart &
        ;;
    shutdown) dbus-send --system --print-reply --dest="org.freedesktop.ConsoleKit" /org/freedesktop/ConsoleKit/Manager org.freedesktop.ConsoleKit.Manager.Stop
        #gksudo shutdown -h now &
        ;;
    reboot) dbus-send --system --print-reply --dest="org.freedesktop.ConsoleKit" /org/freedesktop/ConsoleKit/Manager org.freedesktop.ConsoleKit.Manager.Restart
        #gksudo shutdown -r now & (if u don't have ConsoleKit running)
        ;;
    suspend) gksudo pm-suspend &
        ;;
    hibernate) gksudo hibernate &
        # requires the hibernate package in ubuntu
        ;;
    lock) gnome-screensaver-command --lock &
        # requires the hibernate package in ubuntu
        ;;
esac
